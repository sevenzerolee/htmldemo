<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>递归</title>
</head>
<body>
    <script>
        // a1 a2 a3 a4 a5 a6 a7 a8 a9 a10
        // 1  1  2  3  5  8  13 21 34 55

        // 递归太深就算不出来了
        function fibonaci(n) {
            if (n == 1 || n == 2) {
                return 1;
            }
            return fibonaci(n-1) + fibonaci(n-2);
        }
        
        // 尾递归的判断标准是函数运行最后一步是否调用自身，而不是是否在函数的最后一行调用自身。
        // 函数运行最后一步是否调用自身
        // 不是是否在函数的最后一行调用自身
        // f(1) => 1
        // f(2) => f(1, 1, 2) => 1
        // f(3) => f(2, 1, 2) => f(1, 2, 3) => 2
        // f(4) => f(3, 1, 2) => f(2, 2, 3) => f(1, 3, 5) => 3
        // f(5) => f(4, 1, 2) => f(3, 2, 3) => f(2, 3, 5) => f(1, 5, 8) => 5
        function fibonaci2(n, a = 1, b = 1) {
            if (n == 1) {
                return a;
            }
            return fibonaci2(n-1, b, a + b);
        }

        // 循环
        function fibonaci3(n) {
            if (n == 1 || n == 2) {
                return 1;
            }
            let a1 = 1;
            let a2 = 1;
            let sum = 0;
            for (let i=3; i<=n; i++) {
                sum = a1 + a2;
                a1 = a2;
                a2 = sum;

            }
            return sum;
        }

        var arr = new Array(10).fill(0);
        arr = arr.map((i, j) => (j+1));

        // arr.forEach(i => console.log(`第${i}项`, fibonaci(i)));

        // arr.forEach(i => console.log(`第${i}项`, fibonaci2(i)));
        arr.forEach(i => console.log(`第${i}项`, fibonaci3(i)));




    </script>
</body>
</html>